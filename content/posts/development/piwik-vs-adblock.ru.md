---
title: piwik vs adblock
date: 2014-08-09
categories:
  - Development
---

–û—Ç–∫–∞–∑–∞–≤—à–∏—Å—å –æ—Ç Google Analitycs (GA) –≤ –ø–æ–ª—å–∑—É —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç–∞–Ω—Å–∞ [piwik](https://piwik.org/) —è –ø–æ–ª—É—á–∏–ª –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π, –∞ —Ç–∞–∫–∂–µ –Ω–µ –¥–µ–ª—é—Å—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–≤–æ–∏—Ö –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è—Ö —Å –∫–µ–º-–ª–∏–±–æ.

–£ GA –µ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ (–¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ä–µ—Å—É—Ä—Å–∞), –æ–Ω —É—Å–ø–µ—à–Ω–æ–π –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è AdBlock'–æ–º –∏ –º–Ω–æ–≥–∏–º–∏ –¥—Ä—É–≥–∏–º–∏ –ø–ª–∞–≥–∏–Ω–∞–º–∏. –Ø —Å–∞–º –ø–æ–ª—å–∑—É—é—Å—å AdBlock'–æ–º, –∏ –≥–æ—Ç–æ–≤ –¥–µ–ª–∏—Ç—å—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π —Å –≤–ª–∞–¥–µ–ª—å—Ü–∞–º–∏ —Ä–µ—Å—É—Ä—Å–æ–≤, –Ω–æ –Ω–µ —Å —Ç—Ä–µ—Ç—å–∏–º–∏ –ª–∏—Ü–∞–º–∏.

–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ Piwik —Ç–∞–∫–∂–µ –æ–±–ª–∞–¥–∞–µ—Ç —Ç–∞–∫–∏–º –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–º: –µ–≥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—É—Ç–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ñ–∏–ª—å—Ç—Ä—ã –º–Ω–æ–≥–∏—Ö –±–∞–Ω–µ—Ä–æ—Ä–µ–∑–æ–∫, –Ω–æ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —ç—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏.

–ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã —É–π—Ç–∏ –∏–∑ –ø–æ–¥ —Ñ–∏–ª—å—Ç—Ä–æ–≤? –ü—Ä–∞–≤–∏–ª—å–Ω–æ, –∏–∑–º–µ–Ω–∏—Ç—å –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤.

–Ø —Ä–µ—à–∏–ª —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Ñ–∏–≥–∞ nginx. –Ø –ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ –∏–∑—É—á–∞—é –µ–≥–æ —Ä–∞–±–æ—Ç—É, –∏ –º–æ–∂–µ—Ç –ø–æ–ª—å–∑—É—é—Å—å –Ω–µ —Å–∞–º—ã–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º, –Ω–æ —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç–∞–µ—Ç üòâ

–ò–º–µ–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥ —Å–µ—Ä–≤–µ—Ä–∞

```nginx
server {
    server_name piwik.domain.com;

    ...
}
```

–£–¥–æ–±–Ω—ã–π —Å—É–±–¥–æ–º–µ–Ω, –Ω–æ AdBlock —Ç–∞–∫ –Ω–µ —Å—á–∏—Ç–∞–µ—Ç. –ß—Ç–æ –∂, –ø–æ–º–µ–Ω—è–µ–º –µ–≥–æ –Ω–∞ –¥—Ä—É–≥–æ–π:

```nginx
server {
    server_name piwik.domain.com pw.domain.com;

    ...
}
```

–û—Ç–ª–∏—á–Ω–æ, —Ç–µ–ø–µ—Ä—å –æ—Å—Ç–∞–ª–æ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤:

```nginx
server {
    server_name piwik.domain.com pw.domain.com;

    location = /jquery.min.js {
         rewrite ^ /piwik.js;
    }

    location = /jquery.min.php {
         rewrite ^ /piwik.php;
    }

    ...
}
```

–¢–µ–ø–µ—Ä—å –≤ —Å–Ω–∏–ø–ø–µ—Ç–µ –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç piwik –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å piwik.domain.com –Ω–∞ pw.domain.com, piwik.js –Ω–∞ jquery.min.js, –∞ piwik.php –Ω–∞ jquery.min.php.

–ü–æ–ª—å–∑—É–π—Ç–µ—Å—å –¥–∞–Ω–Ω—ã–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏ –≤–æ –±–ª–∞–≥–æ üòâ

p.s. –î–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∑–∞–±–∞–Ω–∏—Ç—å. –°–º–æ—Ç—Ä–∏—Ç–µ –≤ —Å—Ç–æ—Ä–æ–Ω—É awstats –∏ –¥—Ä—É–≥–∏—Ö —É—Ç–∏–ª–∏—Ç, –∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Ä—Å—è—Ç access –ª–æ–≥–∏ –¥–ª—è 100% –ø–æ–¥—Å—á–µ—Ç–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π.
